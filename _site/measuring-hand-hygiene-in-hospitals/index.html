<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
    <script defer=true src="/blog/assets/js/main.min.js"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="/blog/assets/css/main.css">

    <!--Favicon-->
    <link rel="icon" type="image/png" href="/blog/assets/img/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/blog/assets/img/favicon-16x16.png" sizes="16x16" />

    <!-- Canonical -->
    <link rel="canonical" href="http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/">

    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="The Stanford AI Lab Blog" href="http://0.0.0.0:4000/blog/feed.xml"/>

    <!-- Font Awesome -->
    <!-- <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" type="text/css" href="/blog/assets/css/vendor/font-awesome.min.css">
    
    <!-- Bootstrap-3.3.7 isolation CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    
    <!-- JQuery 2.2.4 -->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" type="text/css" href="/blog/assets/css/vendor/bigfoot-number.css">
    <script type="text/javascript" src="/blog/assets/js/vendor/bigfoot.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function() { 
      $.bigfoot();
      
    window.onload = function() {

        var videos = document.getElementsByTagName("video"),
            fraction = 0.8;

        function checkScroll() {

            for (var i = 0; i < videos.length; i++) {

                var video = videos[i];

                var x = video.offsetLeft,
                    y = video.offsetTop,
                    w = video.offsetWidth,
                    h = video.offsetHeight,
                    r = x + w, //right
                    b = y + h, //bottom
                    visibleX, visibleY, visible;

                visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));
                visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));

                visible = visibleX * visibleY / (w * h);

                if (visible > fraction) {
                    video.play();
                } else {
                    video.pause();
                }

            }

        }

        window.addEventListener('scroll', checkScroll, false);
        window.addEventListener('resize', checkScroll, false);
    }
    }); 
    </script>
    


    <!-- Google Fonts -->
    
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css"> 
    

    <!-- KaTeX 0.8.3 -->
    
    <link rel="stylesheet" type="text/css" href="/blog/assets/css/vendor/katex.min.css">
    <script src="/blog/assets/js/vendor/katex.min.js">
    </script>
    
    
    
    <!-- Google Analytics -->
    
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-129018108-1', 'auto');
        ga('send', 'pageview');

    </script>
    
    
    <!-- seo tags -->
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Towards Vision-Based Smart Hospitals | SAIL Blog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Towards Vision-Based Smart Hospitals" />
<meta name="author" content="<a href='https://www.alberthaque.com'>Albert Haque</a> and <a href='https://www.shellguo.com/'>Michelle Guo</a>" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How computer vision can help hospitals decrease infection rates and improve patients’ health" />
<meta property="og:description" content="How computer vision can help hospitals decrease infection rates and improve patients’ health" />
<link rel="canonical" href="http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/" />
<meta property="og:url" content="http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/" />
<meta property="og:site_name" content="SAIL Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-11-19T00:00:00-08:00" />
<script type="application/ld+json">
{"description":"How computer vision can help hospitals decrease infection rates and improve patients’ health","author":{"@type":"Person","name":"<a href='https://www.alberthaque.com'>Albert Haque</a> and <a href='https://www.shellguo.com/'>Michelle Guo</a>"},"@type":"BlogPosting","url":"http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/","headline":"Towards Vision-Based Smart Hospitals","dateModified":"2018-11-19T00:00:00-08:00","datePublished":"2018-11-19T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    <!-- Manual seo tags -->
    <title>Towards Vision-Based Smart Hospitals | The Stanford AI Lab Blog</title>
    <meta name="description" content="The Stanford AI Lab (SAIL) Blog is a place for SAIL students, faculty, and researchers to share our work with the general public.">
    
    <!-- Twitter Cards -->
    <meta name="twitter:title" content="Towards Vision-Based Smart Hospitals">
    
    <meta name="twitter:description" content="The Stanford AI Lab (SAIL) Blog is a place for SAIL students, faculty, and researchers to share our work with the general public.">
    
    <meta name="twitter:creator" content="@StanfordAILab">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="http://0.0.0.0:4000/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/main.png">
    <meta name="og:image" content="http://0.0.0.0:4000/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/main.png">
    
</head>

  <body class="post-body">
      <!-- Toggle menu -->
<header class="site-header">

<nav class="clear navbar navbar-expand-lg navbar-light bg-white flex-column flex-md-row bd-navbar fixed-top" id="main_nav">
  
  <div class="container">

    <a class="navbar-brand mr-0 mr-md-2 text-black d-flex align-items-center" href="/blog/" aria-label="Bootstrap">
    
	  <div class="branding">
	    <a href="http://ai.stanford.edu/">
	      <img class="avatar" src="/blog/assets/img/sail-logo.png" alt=""/>
		  </a>

      <a href="/blog/">
	      <h1 class="site-title">
			    The Stanford AI Lab Blog
		    </h1> 
		  </a>
	  </div>
    
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarResponsive">

      <ul class="navbar-nav ml-auto">
      
      
      <li class="nav-item">
      <a class="nav-link" href="/blog/about">About</a>
      </li>
      
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Posts</a>
        <div class="dropdown-menu">
        <a class="dropdown-item" href="/blog/">All</a>
        <a class="dropdown-item" href="/blog/conferences">Conferences</a>
        <a class="dropdown-item" href="/blog/vision">Computer Vision</a>
        <a class="dropdown-item" href="/blog/robotics">Robotics</a>
        <a class="dropdown-item" href="/blog/nlp">NLP</a>
        <a class="dropdown-item" href="/blog/ml">Machine Learning</a>
        <a class="dropdown-item" href="/blog/rl">Reinforcement Learning</a>

        </div>
      </li>
        
      
      <li class="nav-item">
      <a class="nav-link" href="/blog/subscribe">Subscribe</a>
      </li>
      
      
      <li class="nav-item">
      <a class="nav-link" href="http://ai.stanford.edu/">SAIL</a>
      </li>
      
      </ul> 

    </div>

  </div>
</nav>

</header>

  
    <div class="content">
      
  <figure>
    
    <img class="postimagehalf" src="https://ai.stanford.edu/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/main.png">
    
  </figure>


<article>

  <header id="main">
    
    <h1 id="post_title">Towards Vision-Based Smart Hospitals</h1>
    <p class="meta">
    <a href='https://www.alberthaque.com'>Albert Haque</a> and <a href='https://www.shellguo.com/'>Michelle Guo</a>
    <div class="post-date">November 19, 2018</div>
    </p>
  <hr>
  </header>


  <section class="post-content">
  
    <p>Every year, ​more people​ die from hospital-acquired infections than from ​car accidents​.
This means when you are admitted to a hospital, there is a ​1 in 30​ chance your health will
get worse than had you not gone to the hospital at all.</p>

<p>This is a dire situation, but one hospitals can easily improve through better hygiene. Hand
hygiene is the first line of defense in preventing the spread of infections not only in
hospitals, but also in public spaces like airports and restaurants. This is already well
known, so the issue is not one of ignorance but of vigilance; automated verification
techniques are needed to check for hand washing. Among the many technological
solutions to this problem, perhaps the simplest is to use the most common human
strategy – visually confirm whether people are washing their hands or not – with
computer vision.</p>

<figure>
    <img class="postimagehalf" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/washing_first.gif" /> 
    <img class="postimagehalf" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/washing_second.gif" /> 
</figure>

<p>Developing such a technological solution has been a multi-year project being done by the
<a href="https://aicare.stanford.edu/">Stanford Partnership in AI-Assisted Care (PAC)​</a> and many collaborators around the
world. Much remains to be done, but we hope this technology can help hospitals
decrease infection rates and improve patients’ health.</p>

<h2 id="why-vision">Why Vision</h2>

<p>Today, hospitals reinforce proper hand hygiene
through educational tools such as medical school
classes, flyers posted on bulletin boards, and
weekly staff meetings. The ​World Health
Organization​ has even proposed the ​Five Moments
of hand hygiene, explicitly defining when a
healthcare worker should wash their hands. To
measure hand hygiene compliance, hospitals track
hand hygiene using RFID cards or badges worn by
employees. While this works to some extent, there
are workflow disruptions such as swiping the RFID
card by the soap dispenser when rushing into a
new room. This stems from technical reasons:
normal RFIDs have short range, and “active” RFIDs
with longer range are constrained by their
directional antenna and need batteries. Clearly, a new solution that does not have the
drawbacks of RFID techniques is needed.</p>

<h2 id="computer-vision-and-hospitals">Computer Vision and Hospitals</h2>

<p>We worked with Lucile Packard Children’s Hospital at Stanford and developed a new and
advanced way to track hand hygiene. It uses cutting-edge computer vision and does not
require a clinician to change their daily routine. While computer vision has been used for
medical imaging, there hasn’t been much use in the physical hospital space. Luckily,
computer vision has been applied in physical spaces for another problem: self-driving
cars. Self-driving cars use tons of sensors to understand their environment. Can we use
some of these sensors inside hospitals to better understand the ​ <em>healthcare ​</em> environment?</p>

<h3 id="depth-sensors">Depth Sensors</h3>

<p>Depth sensors (e.g., Xbox Kinects) are like normal cameras but instead of recording color,
they record distance. In a normal color image, each pixel denotes a color. In a depth
image, each pixel denotes the “distance” to the pixel in real-world space. This is usually a
floating point number such as 1.337 meters.</p>

<figure class="figure"><div class="figure__main">
<p><a href="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/camera_images.png"><img class="postimage_unpadded" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/camera_images.png" /></a></p>
</div><figcaption class="figure__caption" style="padding-top:0;"><p>(Left) Color photo of the hospital, taken with a cell phone. (Right) Corresponding depth image taken by our sensor on the ceiling. Darker colors indicate objects closer to the depth sensor.</p>
</figcaption></figure>

<p>In the depth image above, notice how you can’t really see the people’s faces, but can still
tell what they’re doing. This protects our users’ privacy, which is important in hospitals
To develop and validate our computer vision technology, we installed depth sensors on
the ceiling at two hospitals. One was a children’s cardiovascular unit and the other was
an adult intensive care unit (ICU).</p>

<figure class="figure"><div class="figure__main">
<p><a href="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/installed.png"><img class="postimage_unpadded" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/installed.png" /></a></p>
</div><figcaption class="figure__caption" style="padding-top:0;"><p>Our depth sensors installed on the ceiling of a children’s hospital.</p>
</figcaption></figure>

<p>With depth sensors installed at two different hospitals, we can then use 3D computer
vision tools to automatically measure hand hygiene. This involves three steps:</p>

<ol>
  <li>Detecting the healthcare staff.</li>
  <li>Tracking the staff as they walk around the unit.</li>
  <li>Classifying their hand hygiene behavior.</li>
</ol>

<h3 id="pedestrian-detection">Pedestrian Detection</h3>

<figure class="figure"><div class="figure__main">
<p><a href="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/depth_above.png"><img class="postimage_smaller" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/depth_above.png" /></a></p>
</div></figure>

<p>Continuing with our self-driving car analogy: to understand the environment we need to
first detect people.While there exists many object detection methods, most of them are
developed for color RGB images. Instead, we chose to use a previous approach that can
run on any type of image by leveraging two aspects of the problem: that people typically
occupy small amounts of space in a given image of a room, and that in depth images
people typically look like ‘blobs’ that clearly stand out against the background of the floor.</p>

<figure class="figure"><div class="figure__main">
<p><a href="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/dictionary.png"><img class="postimage_unpadded" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/dictionary.png" /></a></p>
</div><figcaption class="figure__caption" style="padding-top:0;"><p>Entries of the dictionary. Each dictionary entry contains a synthetic image,
corresponding to how a person would look like, had they been standing at that position.</p>
</figcaption></figure>

<p>One way to detect people is to determine an ​occupancy grid​ over the ground, which is a
binary matrix indicating whether a person is occupying a particular position in the ground
plane. By converting the ground (i.e., floor of a room) into a discrete grid we can “imagine”
a person at that position by rendering a blob, roughly the same height as a person, at
every point in this grid. We can create a dictionary containing blobs at every single point
on the ground plane (remember: because we synthetically created these blobs, we know
their exact 2D and 3D position). For multiple people, we can render multiple blobs in the
scene. During test-time, all we need is a “blob” image. This can be done with any
foreground/background subtraction method or object segmentation algorithm. Now,
given this test-time blob image, we can perform a k-nearest neighbor search into this
dictionary to find the positions of each blob.</p>

<h5 id="tracking-across-the-hospital-unit">Tracking Across The Hospital Unit</h5>
<p>In order to build a truly smart hospital, we need to use sensors spread out across the
entire hospital unit. Since not everything happens in front of one sensor, we also need
algorithms that can track people across sensors. Not only can this provide details for
hand hygiene compliance, but it can also be used for workflow and spatial analytics.
Formally, we want to find the set of trajectories <script type="math/tex">X</script>, where each trajectory <script type="math/tex">x \in X</script> is represented as an ordered set of detections, <script type="math/tex">L_x = (l_x^{(1)} ,...,l_x^{(n)} )</script>,
representing the detected coordinates of pedestrians. The problem can be written as a
maximum a-posteriori (MAP) estimation​ problem.</p>

<p>Next, we assume a Markov-chain model connecting every intermediate detection <script type="math/tex">l_x^{(i)}</script> in the trajectory <script type="math/tex">X</script>, to the subsequent detection <script type="math/tex">l_x^{(i+1)}</script> with a
probability given by <script type="math/tex">P(l_x^{(i+1)} | l_x^{i})</script>. We can now formulate the MAP task as a
linear integer program by finding the flow <script type="math/tex">f</script> that minimizes the cost <script type="math/tex">C</script>:</p>

<figure class="figure"><div class="figure__main">
<p><a href="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/costC.png"><img class="postimage_unpadded" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/costC.png" /></a></p>
</div></figure>

<p>where <script type="math/tex">f_i</script> is the flow variable indicating whether the corresponding detection is a
true positive, and <script type="math/tex">f_{ij}</script> indicates if the corresponding detections are linked together.
The variable <script type="math/tex">\beta_{ij}</script> denotes the transition cost given by <script type="math/tex">\log P (l_i|l_j)</script> for
the detection <script type="math/tex">l_i,l_j\in L</script>. The local cost <script type="math/tex">\alpha_i</script> is the log-likelihood of an
intermediate detection being a true positive. For simplicity, we assume that all detections
have the same likelihood. This is equivalent to the flow optimization problem, solvable in
real-time with ​k-shortest paths​.</p>

<h3 id="hand-hygiene-activity-classification">Hand Hygiene Activity Classification</h3>

<p>So far, we have identified the tracks (i.e., position on the global hospital-unit ground
plane) of all pedestrians in the unit. The last step is to detect hand hygiene activity and 
link it to a specific track. Hand hygiene activity is defined as ​ <em>positive​</em> when a person uses
a wall-mounted alcohol-based gel dispenser. We then label each pedestrian track as
<em>clean​</em> or ​ <em>not clean​</em>.</p>

<p>Deployment of sensors in real-world settings is often prone to installation constraints.
Whether intentional or not, construction and maintenance technicians install sensors that
vary in both angle and position, which meansour model must be robust to such variances
so it can work with any sensor viewpoint. Since traditional ​convolutional neural network
(CNNs) are generally ​not viewpoint invariant​, we use a ​spatial transformer network​ (STN)
instead.</p>

<figure class="figure"><div class="figure__main">
<p><a href="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/vision.png"><img class="postimage_unpadded" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/vision.png" /></a></p>
</div><figcaption class="figure__caption" style="padding-top:0;"><p>(Left) Data augmentation stage with a person segmentation. (Right) Hand hygiene activity
classifier: a ​spatial transformer network​ plus a ​densely connected​ convolutional network.</p>
</figcaption></figure>

<p>The input to the STN is any arbitrary image and the output is a warped image. To help our
model learn more quickly, we also provide a person segmentation (i.e., body mask) to the
STN. This body mask can be extracted using classical foreground-background
techniques or deep learning approaches. The STN warps the image into a learned,
“viewpoint-invariant” form. From this warped image, we use a standard CNN (i.e.,
DenseNet​) to perform binary classification of whether someone used the hand hygiene
dispenser or not.</p>

<h3 id="spatio-temporal-matching">Spatio-Temporal Matching</h3>

<p>At this point, we still need to combine our set of tracks and a separate set of hand
hygiene detections, which introduces two new variables: space and time.
For each hand hygiene classifier detection (i.e., dispenser is being used), we must match
it to a single track. A match occurs between the classifier and tracker when a track <script type="math/tex">\mathcal{T}</script> satisfies two conditions:</p>

<ol>
  <li>Track <script type="math/tex">\mathcal{T}</script> contains <script type="math/tex">(x,y)</script> points <script type="math/tex">\mathcal{P}</script> which
 occur at the same time as the hand hygiene detection event <script type="math/tex">\mathcal{E}</script>,
 within some temporal tolerance level.</li>
  <li>At least one point <script type="math/tex">p \in \mathcal{P}</script> is physically nearby the sensor
 responsible for the detection event <script type="math/tex">\mathcal{E}</script>. This is defined by a
 proximity threshold around the patient’s door.</li>
</ol>

<p>If there are multiple tracks that satisfy these requirements, we break ties by selecting the
track with the closest <script type="math/tex">(x, y)</script> position to the door. The final output of our model is a
list <script type="math/tex">T</script> of tracks, where each track consists of an ordered list of <script type="math/tex">(t, x, y, a)</script>
tuples where <script type="math/tex">t</script> denotes the timestamp, <script type="math/tex">x, y</script> denote the 2D ground plane
coordinate, and <script type="math/tex">a</script> denotes the latest action or event label. From <script type="math/tex">T</script>, we can
compute the compliance rate or compare with the ground truth for evaluation metrics.</p>

<h2 id="comparison-to-human-auditors--rfid">Comparison to Human Auditors &amp; RFID</h2>

<p>Today, many hospitals measure hand hygiene compliance using ​ <em>secret shoppers​</em> , trained
individuals who walk around hospital units and watch if staff wash their hands in secret.
A secret shopper could be a nurse, doctor, or even a visitor. We refer to this as a ​ <em>covert</em>
observation, as opposed to an ​ <em>overt​</em> observation performed by someone openly
disclosing their audit. The purpose of covert observations is to minimize the ​Hawthorne
effect​ (i.e., you change your behavior because someone is watching you). We compared
computer vision to multiple auditors standing in fixed locations in the unit and one auditor
walking around the unit, and to the use of RFID tags, as discussed above.</p>

<h3 id="results">Results</h3>

<p>RFID produced a lot of false positives and had a low compliance accuracy. It predicted a
clean or dirty track correctly only 18% of the time.</p>

<p>One human auditor did much better at 63%. Three people did better yet at 72%. However,
our algorithm surpassed even human auditors with a 75% accuracy. This is not too
surprising, since the auditors were competing with the “global view” computer vision
system. Since the ground truth labels are also annotated by humans, how did the humans
observers do worse than the algorithm? The reason is that our ground truth labels were
labeled remotely and not in real-time. Remote annotators had access to all sensors and could play the video forward and backward in time to ensure their annotations are
correct. In-person auditors did not have “access” to all sensors and they could not replay
events in time.</p>

<figure class="figure"><div class="figure__main">
<p><a href="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/results.png"><img class="postimage_unpadded" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/results.png" /></a></p>
</div><figcaption class="figure__caption" style="padding-top:0;"><p>Hand hygiene detections over time. Blue squares indicate someone using a hand
hygiene dispenser. Darker blue indicates more simultaneous events. The ground truth is
shown at the bottom. In general, more white space is bad.</p>
</figcaption></figure>

<p>Numbers aside, a more interesting result is a visual one. The image above shows how
infrequently the in-person auditors detect hand hygiene activity. Notice all the white
space? If you look at the ground truth row, there is usually no white space. That means
the observers are missing a lot of hand hygiene events. This is often due to observers
getting distracted: they may doze off, look at unrelated activity elsewhere in the unit, or
simply just not see hand hygiene events occuring.</p>

<figure class="figure"><div class="figure__main">
<p><a href="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/traj.gif"><img class="postimagesmaller" src="/blog/assets/img/posts/2018-11-02-measuring-hand-hygiene-in-hospitals/traj.gif" /></a></p>
</div><figcaption class="figure__caption" style="padding-top:0;"><p>Spatio-temporal heatmap of people walking in the intensive care unit. Yellow/red
colors indicate more people standing/walking in that area.</p>
</figcaption></figure>

<p>We conclude with one final visualization. The animation above shows a top view of the
hospital unit. Because we can track people across the entire unit, we know their specific
(x,y,z) position pretty much all the time. We plotted each point and created a heatmap
over time. This type of ​ <em>spatial analytics​</em> can be useful for identifying traffic patterns and
potentially trace the spread of disease. Areas that are always yellow/red indicate crowded
spaces. These spaces are usually at hallway intersections or immediately outside patient
rooms. If you look carefully, you can spot our stationary auditors in red.</p>

<h2 id="future-directions">Future Directions</h2>

<p>We’ve shown how computer vision and deep learning can be used to automatically
monitor hand hygiene in hospitals. At the ​Stanford Partnership in AI-Assisted Care​, hand
hygiene is just one use case of computer vision in healthcare. We are also developing
computer vision systems to ​monitor patient mobility levels​, analyze the ​quality of surgical
procedures​, and check for ​anomalies in senior living​. We hope this work sheds new light
on the potential and impact of AI-assisted healthcare.</p>

<h2 id="references">References</h2>

<p>Viewpoint Invariant Convolutional Networks for Identifying Risky Hand Hygiene
Scenarios.​ M. Guo, A. Haque, S. Yeung, J. Jopling, L. Downing, A. Alahi, B. Campbell, K.
Deru, W. Beninati, A. Milstein, L. Fei-Fei. ​ <em>Workshop on Machine Learning for Health (ML4H),
Neural Information Processing Systems (NIPS), Long Beach, CA, December 2017.</em></p>

<p>Towards Vision-Based Smart Hospitals: A System for Tracking and Monitoring Hand
Hygiene Compliance.​ A. Haque, M. Guo, A. Alahi, S. Yeung, Z. Luo, A. Rege, A. Singh, J.
Jopling, L. Downing, W. Beninati, T. Platchek, A. Milstein, L. Fei-Fei. ​ <em>Machine Learning in
Healthcare Conference (MLHC), Boston, MA, USA, August 2017.</em></p>

<p>Vision-Based Hand Hygiene Monitoring in Hospitals.​ <strong>​</strong> S. Yeung, A. Alahi, Z. Luo, B. Peng,
A. Haque, A. Singh, T. Platchek, A. Milstein, L. Fei-Fei. ​ <em>American Medical Informatics
Association (AMIA) Annual Symposium, Washington, DC, USA, November 2016.</em></p>


  
  </section>
  <hr>
  Keep on top of the latest SAIL Blog posts via <a class="social-icon" href="http://0.0.0.0:4000/blog/feed.xml">RSS <i class="fa fa-rss-square fa fa" title="Twitter"></i></a>, <a class="social-icon" href="https://twitter.com/StanfordAILab">Twitter <i class="fa fa-twitter-square fa fa" title="Twitter"></i></a>, or email:

<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://stanford.us19.list-manage.com/subscribe/post?u=3a6484754abf2fc18724ec835&amp;id=028823e92b" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_3a6484754abf2fc18724ec835_028823e92b" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->



  <!-- Social media shares -->
  <div class="share-buttons">
    <ul class="share-buttons">
        <div class="meta">Share</div>
        
        <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/" target="_blank" title="Share on Facebook">
			<i class="fa fa-facebook-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Share on Facebook</span>
		</a>
        </li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?source=http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/&text=Towards+Vision-Based+Smart+Hospitals%20%7C%20SAIL+Blog:%20http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/" target="_blank" title="Tweet">
			<i class="fa fa-twitter-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Tweet</span>
		</a>
        </li>
            
        <li>
            <a href="https://getpocket.com/save?url=http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/&title=Towards+Vision-Based+Smart+Hospitals%20%7C%20SAIL+Blog" target="_blank" title="Add to Pocket">
			<i class="fa fa fa-get-pocket fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Add to Pocket</span>
		</a>
        </li>
         
        <li>
            <a href="http://www.reddit.com/submit?url=http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/&title=Towards+Vision-Based+Smart+Hospitals%20%7C%20SAIL+Blog" target="_blank" title="Share on Reddit">
			<i class="fa fa-reddit-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Share on Reddit</span>
		</a>
        </li>
           
        <li>
            <a href="mailto:?subject=Towards+Vision-Based+Smart+Hospitals%20%7C%20SAIL+Blog&body=:%20http://0.0.0.0:4000/blog/measuring-hand-hygiene-in-hospitals/" target="_blank" title="Email">
			<i class="fa fa-envelope-square fa-2x" aria-hidden="true"></i>
			<span class="sr-only">Email</span>
		</a>
        </li>
        
    </ul>
</div>

  <!-- Tag list -->
  
  


<footer>
  <div class="tag-list">
    
      <div class="meta">Tags</div>
    

    
    <a class="button" href="/blog/tags#Healthcare">
      <p><i class="fa fa-tag fa-fw"></i> Healthcare</p>
    </a>
    
    <a class="button" href="/blog/tags#PAC">
      <p><i class="fa fa-tag fa-fw"></i> PAC</p>
    </a>
    
    <a class="button" href="/blog/tags#vision">
      <p><i class="fa fa-tag fa-fw"></i> vision</p>
    </a>
    
  </div>
</footer>

</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
  
  <div id="previous-post" class="post-nav-post">
      <a href="/blog/hello-world/">
      <p>Previous post</p>
        Hello World
      </a>
  </div>
  
  
  <div id="next-post" class="post-nav-post">
      <a href="/blog/altruistic-autonomy/">
      <p>Next post</p>
        Altruistic Autonomy: Beating Congestion on Shared Roads
      </a>
  </div>
  
</div>



    </div>
    <hr>
<footer class="site-footer">
    
   <div class="footer-icons">
        <ul>
        <!-- Social icons from Font Awesome, if enabled -->
        
<li>
	<a href="http://0.0.0.0:4000/blog/feed.xml" title="Follow RSS feed">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
        </span>
	</a>
</li>







































<li>
	<a href="https://twitter.com/StanfordAILab" title="Follow on Twitter" class="type">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
	</a>
</li>








        </ul>
    </div>
    <p class="text">&copy; 2019 Stanford AI Lab
</p>
 
</footer>



  </body>
</html>
